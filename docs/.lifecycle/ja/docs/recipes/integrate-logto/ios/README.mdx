---
sidebar_label: iOS
---

import AppNote from '../fragments/_app-note.mdx';
import ApplyAuthorizationToken from '../fragments/_apply_authorization_token.md';
import FetchUserInformation from '../fragments/_fetch-user-information.mdx';
import FurtherReadings from '../fragments/_further-readings.md';
import GetAuthorizationToken from '../fragments/_get_authorization_token.md';
import AddSdk from './_add_sdk.mdx';
import ImplementSignIn from './_implement_sign_in.mdx';
import InitClient from './_init_client.mdx';

# iOS：Logto Swift SDKの統合

<AppNote type="ネイティブアプリ" />

## Logto SDKを依存関係として追加する

<AddSdk />

## `LogtoClient`を初期化する

<InitClient />

## サインイン

<ImplementSignIn />

## サインアウト

`.signOut()`を呼び出すと、Keychain内のLogtoデータがすべて削除されます（存在する場合）。

```swift
await client.signOut()
```

## ユーザー情報を取得する

<FetchUserInformation apiCodeFragment="logtoClient.fetchUserInfo()" />

## バックエンドAPIの認証

<GetAuthorizationToken />

APIリソース指標をLogto SDKの構成に追加します：

```swift
let config = try? LogtoConfig(
  endpoint: "<your-logto-endpoint>", // 例：http://localhost:3001
  appId: "<your-app-id>",
  resources: ["<your-resource-indicators>"]
)
let client = LogtoClient(useConfig: config)
```

APIリクエストを行う前にLogtoから認証トークンを取得します：

```swift
  let accessToken = try await client.getAccessToken(for: "<your-target-api-resource>")
  // カスタムロジック
```

<ApplyAuthorizationToken />

```swift
await LogtoRequest.get(
  useSession: session,
  endpoint: userInfoEndpoint,
  headers: ["Authorization": "Bearer \(accessToken)"]
)
```

## さらに詳しくは

<FurtherReadings />