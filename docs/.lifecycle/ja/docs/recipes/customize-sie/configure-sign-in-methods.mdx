---
sidebar_label: サインイン方法の設定
sidebar_position: 1
---

import SaveChanges from './fragments/_save-changes.md';

# サインイン方法の設定

<SaveChanges />

コンソールと手を組んで、お客様のためにエンドツーエンドのサインイン体験を設定しましょう。

![サインイン体験ダッシュボード](./assets/sie-set-configure-method.png)

## サインアップ方法

### サインアップ識別子

サインアップの識別は、あなた自身を識別し、製品への登録に必要な情報を特定するために使用されるハンドルです。アカウント作成に必要な情報であり、サインインプロセスに含まれていなければなりません。サインイン体験の構成では、以下の4種類の識別子を提供しています。

- メールアドレス
- 電話番号
- ユーザー名
- メールアドレスまたは電話番号

エンドユーザーは、これら4つの方法のいずれかを使用してアカウントを作成し、製品にアクセスすることができます。さらに、ソーシャル専用のアカウント作成に適した「なし」もサポートしています。この場合、アカウントを確立し製品にサインインする唯一の方法は、ソーシャルサインインです。

### サインアップ認証

識別子だけでなく、認証要素も必要です。認証要素を識別子に関連付けることで、成功裏にスムーズなサインアップフローの基盤を築くことができます。
現在、以下のエンドユーザー認証をサポートしています。

- 検証コード (パスワード不要)
- パスワード

ただし、上記の識別子と単独で検証基準を組み合わせることはできません。実世界の状況を考慮するためにいくつかの制限があります。

| 識別子 | パスワード | 検証コード (パスワード不要) |
| ----------- | -------- | ------------------------------------ |
| ユーザー名    | 必須 | `N/A`                             |
| メールアドレス | オプション | 必須                          |
| 電話番号      | オプション | 必須                          |
| メールアドレスまたは電話番号 | オプション | 必須                          |
| なし        | `N/A`    | `N/A`                             |

例えば、メールアドレスでサインアップする場合、アカウントを認証する必要があります。未確認のメールをサインアップ時にサポートしていませんが、近日追加される予定です。

別の例として、サインアップ識別子としてユーザー名を選択した場合、認証要素としてパスワードを選択する必要があります。

ここでのチェックボックスは「かつ」ロジックを形成し、サインアップ手順には選択されたオプションがすべて必要なステップであることを示します。

以下に2つの例を示します。

サインアップ方法: メールアドレス。サインアップ認証: パスワード & 検証コード。

![サインアップ方法の設定 01](./assets/sie-set-sign-up-method-one.png)

サインアップ方法: メールアドレスまたは電話番号。サインアップ認証: 検証コード。

![サインアップ方法の設定 02](./assets/sie-set-sign-up-method-two.png)

## サインイン方法

### サインイン識別子と認証

前述のように、ユーザーは製品を探索し利用する際に追加情報を入力して完了することがあります。その中には**_サインイン方法_**として受け入れられるものもあります。これは、**_サインアップ方法_**と異なるため、サインイン手順も異なります。サインイン識別子は、サインアップ識別子と同じでありますが、「または」ロジックを形成し、ユーザーはそれらのいずれかを使用してサインインすることができます。

- ユーザー名
- 電話番号
- メールアドレス

必要に応じて追加し、その後、レイアウトの上部に誰が表示されるかを決定するためにドラッグ＆ドロップできます。

認証要素については、サインインフローで識別子ごとにパスワードまたは検証コードをアクティブ化できます。サインアップ識別子と認証要素も機能を制限します。以下は考慮すべき、ユーザーフローの成功に向けた幅広いガイドラインです。

- サインアップでパスワードを使用する場合→ サインインもそれをサポートし、他のすべての識別子もサポートする必要があります。エンドユーザーが時間を浪費したりセキュリティ意向を無視したりすることがないようにします。ユーザー名でのサインアップにパスワードが必要であっても、メール/電話でのサインインには不要である状況は意味がなく、ユーザーを混乱させます。

- サインアップ時に識別子として単にユーザー名を使用する場合、パスワードを作成する必要があります。これは、ユーザー名を識別手段として使用する制限と特異性によるものです。

- サインインには、登録時にユーザーが選択したサインイン選択肢のうち少なくとも2つをアクティブ化する必要があります。ユーザーがメールアドレスでサインアップし、電話番号でのみサインインできる場合、製品を利用することはできません。

- 登録時にユーザー名が唯一の識別子として使用される場合、パスワードが必要です。これは、ユーザー名を識別手段として使用する制限と特異性によるものです。

- 「メールアドレス」「電話番号」または「電話番号またはメールアドレス」をサインアップ識別子として選択する場合、サインアップ時にその識別子を検証する必要があり、サインアップ認証要素としてパスワードを選択しない場合、サインイン時に検証コードをアクティブ化しなければなりません。パスワードの選択後には、サインインパスワードを有効化し、サインイン時の検証コードはチェックを外すことができます。

これらのガイドラインは最初は厄介に見えるかもしれませんが、実際に試してみると自然なものになります。潜在する意味は、ユーザー獲得のファネルに悪影響を与える誤りを回避するのに役立ちます。

以下に2つの例を示します。

サインイン識別子: メールアドレス。サインイン認証: パスワード。

![サインイン方法の設定 01](./assets/sie-set-sign-in-method-one.png)

サインイン識別子: メールアドレス/電話番号。サインイン認証: パスワード/検証コード。

![サインイン方法の設定 02](./assets/sie-set-sign-in-method-two.png)

## ソーシャルサインイン

**ソーシャルサインイン**は、既存のソーシャルネットワークプロフィールの資格情報を使用してサードパーティーサービスにログインする方法です。既存の確立された信頼できる識別子を使用するため、ソーシャルサインインを使用することでサインアップとログインが簡素化されスピーディーになります。

サインアップ識別子に応じて、ソーシャルサインアップフローではユーザーに追加情報の提供を求める場合があります。

例えば、サインアップ識別子として「メールアドレス」を選択した場合、ソーシャルサインアップフローでは、アカウントが存在するかどうかに応じて新しいアカウントを入力するようユーザーに要求するか、または既存のアカウントをリンクするようユーザーに求めるかもしれません。しかし、より速いサインインのために、ソーシャルアカウントに未登録の「信頼できるメール」（Gmail、GitHubなどの信頼できる第三者ソーシャルアイデンティティプロバイダーによって確認された）があれば、そのメールアドレスは自動的にユーザーのプロファイルに入力されます。

UI上で表示される順序を変更するためにドラッグ＆ドロップを使用することもできます。多くのソーシャルサインインを追加することは推奨されていませんが、それらは折りたたまれた表示となります。

## パスワードを忘れた場合

電子メールまたはSMSコネクタを構成する場合、パスワードを忘れた場合の機能は自動的に有効になります。検証済みの電子メールアドレスまたは電話番号を使用してパスワードをリセットすることができます。

新しいパスワードを作成する際には、古いパスワードを現在使用することはできません。この制限は1度だけ発生します。

![パスワードを忘れました](./assets/sie-set-forgot-password.png)

## ユーザー登録を無効にする

一部のケースでは、アカウントの作成を制限する必要があります。サインインエクスペリエンス > その他 > 詳細設定に移動します。トグルをオフに切り替えると、完了です。サンプルページからアカウント作成ボタンが消え、ソーシャルメディアを介してアカウントを確立することはできなくなります。

![ユーザー登録を有効にする](./assets/sie-set-other-enable-user-registration.png)