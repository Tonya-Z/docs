---
sidebar_label: SMSコネクタの設定
sidebar_position: 1
---

# SMSコネクタの設定

SMSコネクタを設定することで、ユーザーの電話番号にワンタイム認証コード（OTP）を送信できます。このパスワードレス認証メカニズムは、サインアップ、サインイン、パスワードを忘れた場合やアカウントのリンクプロセスなど、様々なシナリオでユーザーの身元を確認するために利用できます。これにより、ユーザー認証が簡略化され、パスワード関連の侵害リスクが最小限に抑えられます。

Logtoには、以下の組み込みSMSコネクタがあります。

- Twilio SMS
- Aliyun SMS
- Tencent SMS

:::tip
まだ他のコネクタについても取り組んでおります！ご希望のコネクタがない場合は、Discordでご要望いただくか、GitHubでフィーチャーリクエストを行ってください。
Logtoオープンソースバージョンをご利用の方には、[独自のコネクタを作成](../create-your-connector/)する柔軟性も提供しています。
:::

## 設定手順

Logtoコンソールで「コネクタ > メールおよびSMSコネクタ」に移動します。

### 新しいSMSコネクタを追加

新しいSMSコネクタを追加するには、「設定」ボタンをクリックし、希望するSMSコネクタを選択します。

![SMSコネクタの選択](./assets/configure-select-sms-connetor.png)

構成プロセスでは、以下の手順に従います。

1. 左側の各タイプのコネクタについてのREADMEドキュメントを確認し、指示に従います。
2. 右側の「パラメーターの構成」セクションに必要なフォームを記入します。
3. JSONコードを編集してSMSテンプレートをカスタマイズして、必要に応じて自社のニーズに合わせます。
4. 「汎用」テンプレートを使用して、電話番号にSMS認証コードを送信することで構成をテストします。
5. 「保存して完了」をクリックして終了します。

![SMSコネクタの構成ガイドライン](./assets/configure-sms-connector-guideline.png)

### 他のSMSコネクタに切り替え

現在のSMSコネクタを変更する場合は、単にコネクタの詳細ページにアクセスし、「その他」メニューの「コネクタの変更」ボタンをクリックします。または、古いコネクタを削除してから新しいSMSコネクタを追加することもできます。

:::note
1つのSMSコネクタのみを有効にできます。

現在のSMSコネクタを変更して変更を保存すると、前のSMSコネクタは自動的に無効になります。また、過去のコネクタの設定も失われます。将来的にこれらのコネクタに切り替える場合は、古いコネクタの設定を適切に保持することができます。
:::

## SMSテンプレート

以下の点に注意してください。

- Logtoは、登録、サインイン、パスワードを忘れた場合、汎用の4つの異なるテンプレートを提供しており、それぞれの使用目的に基づいてカテゴリ分けされています。異なるユースケースに対して異なるテンプレートを使用することを強く推奨しています。そうでない場合、フロー制御がトリガーされ、サービスの一時中断が発生することがあります。
- デフォルトで認証コードの有効期間は10分です。
- ユーザーに送信される認証コードの番号は{{code}}の変数を使用しています。

以下は参考の例です：
READMEに従って、コネクタ構成JSONを簡単に作成してください。

| 使用法         | シナリオ                                                                                                                                                              | テンプレート例                                                                                      |
| -------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------- |
| 登録           | ユーザーが電話番号を使用してアカウントを作成し、認証コードを入力して確認します。                                                                     | あなたのLogtoサインインの認証コードは{{code}}です。10分間有効です。         |
| サインイン     | ユーザーが電話番号を使用してサインインし、パスワードの代わりに認証コードを入力して確認します。                                           | あなたのLogtoサインアップの認証コードは{{code}}です。10分間有効です。       |
| パスワードを忘れた場合 | ユーザーがサインイン中にパスワードを忘れた場合、電話番号を使用して身元を確認できます。             | あなたのLogtoパスワード変更の認証コードは{{code}}です。10分間有効です。     |
| 汎用           | このテンプレートは、既存のアカウントに電話番号をリンクしたり、コネクタ構成をテストしたりするなど、様々なシナリオで汎用のバックアップオプションとして使用できます。 | あなたのLogtoの認証コードは{{code}}です。10分間有効です。                     |

## 関連リーディング

設定が完了したら、[SMSまたはメールのパスコードサインインを有効にする方法](../../tutorials/get-started/passwordless-sign-in-by-adding-connectors.mdx) をご確認いただけます。